<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link rel="shortcut icon" type="image/ico" href="http://www.sprymedia.co.uk/media/images/favicon.ico">
		
		<title>Using dataTable with OData connector</title>
		<style type="text/css" title="currentStyle">
			@import "media/css/demo_page.css";
			@import "media/css/demo_table.css";
			@import "media/css/themes/base/jquery-ui.css";
			@import "media/css/themes/smoothness/jquery-ui-1.7.2.custom.css";
		</style>

        <script src="media/js/jquery.js" type="text/javascript"></script>
        <script src="media/js/jquery.dataTables.js" type="text/javascript"></script>
		<script src="media/js/jquery.dataTables.odata.js" type="text/javascript"></script>
 <script type="text/javascript" src="jsonTable.js"></script>

        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-17838786-4']);
            _gaq.push(['_trackPageview']);

            (function () {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
		</script>
	</head>

	<body id="dt_example">

	
	 <table id="dataTable" style="color: red;">
        </table>
        
        <br/>
        
        <div id="container"></div>
        
	    <script type="text/javascript" src="jquery.min.js"></script>
	    <script type="text/javascript" src="jsonTable.js"></script>
        <script type="text/javascript">
            var json_source = [
                {"model" : "Iphone 18", "name" : "iOS", "share" : 57.56},
                {"model" : "Nexus 23", "name" : "Android", "share" : 24.66},
                {"model" : "Tom-tom", "name" : "Java ME", "share" : 10.72},
                {"model" : "Nokia 66610", "name" : "Symbian", "share" : 2.49},
                {"model" : "Blackberry", "name" : "Blackberry", "share" : 2.26},
                {"model" : "Lumia", "name" : "Windows Phone", "share" : 1.33}
            ];
            
            var options = {
                source: "odata.json",
                rowClass: "classy",
            };
            
            ///////////////////////////////
            // Test on a pre-existing table
	        $("#dataTable").jsonTable({
		        head : ['value.ID','Name','Description', 'ReleaseDate', 'DiscontinuedDate','Rating', 'Price'],
		        json : ['value.ID','Name','Description', 'ReleaseDate', 'DiscontinuedDate','Rating', 'Price']
	        });

	        $("#dataTable").jsonTableUpdate(options);

	        ///////////////////////////////
	        // Test on a table not yet attached to the DOM
	        var testTable = $("<table></table>");

	        testTable.jsonTable({
	            head : ['N.', 'ID','Name','Description', 'ReleaseDate', 'DiscontinuedDate','Rating', 'Price'],
	            json : ['*', 'ID','Name','Description', 'ReleaseDate', 'DiscontinuedDate','Rating', 'Price'] // The '*' identity will be incremented at each line
	        });

	        testTable.jsonTableUpdate(options);

	        $("#container").append(testTable);
        </script>



	</body>
</html>